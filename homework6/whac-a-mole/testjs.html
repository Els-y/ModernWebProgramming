<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <p class="test  haha">Test addClass removeClass</p>
    <button id="add">addClass</button>
    <button id="remove">removeClass</button>
    <button id="another">addAnother</button>
    <button id="toggle">toggleClass</button>
    <script>
        function addClass(elem, classname) {
            var oldclass = elem.className;
            if (oldclass == "") {
                elem.className = classname;
            } else if (oldclass.indexOf(classname) == -1) {
                elem.className = oldclass + " " + classname;
            }
        }

        function removeClass(elem, classname) {
            var oldclass = elem.className;
            if (typeof oldclass == 'string' && oldclass.indexOf(classname) != -1) {
                var reg = new RegExp('(\\s*)' + classname + '(\\s*)');
                elem.className = oldclass.replace(reg, ' ');
            }
        }

        function toggleClass(elem, classname) {
            var oldclass = elem.className;
            if (oldclass.indexOf(classname) != -1) {
                removeClass(elem, classname);
            } else {
                addClass(elem, classname);
            }
        }

        window.onload = function () {
            var p = document.getElementsByClassName("test")[0];
            var add = document.getElementById('add');
            var remove = document.getElementById("remove");
            var another = document.getElementById("another");
            var toggle = document.getElementById("toggle");
            add.onclick = function() {addClass(p, "nihao");};
            remove.onclick = function() {removeClass(p, "haha");};
            another.onclick = function () {addClass(p, "another");};
            toggle.onclick = function () {toggleClass(p, "toggle");};
        }
    </script>
</body>
</html>